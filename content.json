{"meta":{"title":"JM's Syslog","subtitle":"This is subtitle","description":"Coding for better life","author":"JM Huang","url":"http://blog.jm00oo.io"},"pages":[{"title":"About Me","date":"2017-04-15T07:31:48.000Z","updated":"2018-08-28T02:30:39.575Z","comments":true,"path":"about/index.html","permalink":"http://blog.jm00oo.io/about/index.html","excerpt":"","text":"My name is JM Huang. I am a software engineer. I am working for iStaging and my role is a backend engineer."},{"title":"All tags","date":"2017-04-15T05:32:35.000Z","updated":"2018-08-28T02:30:39.575Z","comments":false,"path":"tags/index.html","permalink":"http://blog.jm00oo.io/tags/index.html","excerpt":"","text":""},{"title":"Categories","date":"2017-04-15T07:26:19.000Z","updated":"2018-08-28T02:30:39.575Z","comments":false,"path":"categories/index.html","permalink":"http://blog.jm00oo.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"Reverse tunnel with docker slave","slug":"Reverse-tunnel-with-docker-slave","date":"2017-04-19T05:46:47.000Z","updated":"2018-08-28T02:30:39.574Z","comments":true,"path":"2017/04/19/Reverse-tunnel-with-docker-slave/","link":"","permalink":"http://blog.jm00oo.io/2017/04/19/Reverse-tunnel-with-docker-slave/","excerpt":"Configuration private-client - 192.168.0.10jenkins-ec2 - 54.xx.xx.84 On jenkins-ec2$ ifconfig&gt; ...&gt; docker0 Link encap:Ethernet HWaddr 02:42:34:49:99:84&gt; inet addr:172.17.0.1 Bcast:0.0.0.0 Mask:255.255.0.0&gt; ...","text":"Configuration private-client - 192.168.0.10jenkins-ec2 - 54.xx.xx.84 On jenkins-ec2$ ifconfig&gt; ...&gt; docker0 Link encap:Ethernet HWaddr 02:42:34:49:99:84&gt; inet addr:172.17.0.1 Bcast:0.0.0.0 Mask:255.255.0.0&gt; ... On private-client$ ssh -i KEY_FILE -NfR 12345:localhost:22 ubuntu@54.xx.xx.84 Back to jenkins-ec2Now we can login private-client on jenkins-ec2$ ssh user@localhost -p 12345 However, for docker container in jenkins-ec canâ€™t login private-client.To enble that just need modify the configuration on jenkins-ec2:/etc/ssh/sshd_configGatewayPorts yesAnd run:on jenkins-ec2# /etc/init.d/ssh restart In docker container on jenkins-ec2in container$ ssh -i user@172.17.0.1 -p 12345 Reference[SSH reverse tunnel][SSH reverse tunnel]: https://toic.org/blog/2009/reverse-ssh-port-forwarding/","categories":[],"tags":[{"name":"docker","slug":"docker","permalink":"http://blog.jm00oo.io/tags/docker/"},{"name":"ssh","slug":"ssh","permalink":"http://blog.jm00oo.io/tags/ssh/"},{"name":"network","slug":"network","permalink":"http://blog.jm00oo.io/tags/network/"}]},{"title":"Git submodule notes","slug":"git-submodule-notes","date":"2017-04-16T09:36:25.000Z","updated":"2018-08-28T02:30:39.574Z","comments":true,"path":"2017/04/16/git-submodule-notes/","link":"","permalink":"http://blog.jm00oo.io/2017/04/16/git-submodule-notes/","excerpt":"Update submoduleFirst time need to init the submodule.git submodule update --recursive --remote --init PATHotherwisegit submodule update --recursive --remote","text":"Update submoduleFirst time need to init the submodule.git submodule update --recursive --remote --init PATHotherwisegit submodule update --recursive --remote In this post, I noted for setup/update git submodule. In some scenarios, we developed in a project, which depends on some other library. If we want to separately version controlling both of them, git submodule is a good tool for that. For example, I use Hexo to manage my blog, and in the repository there is a themes module to setup the blog theme. Add submodulecd BLOG_DIRgit submodule add GIT_URL themes/THEME_NAME Suppose someone else update and push the submodule in the remote repository, we may need to update the submodule. Update submoduleFirst time need to init the submodule.git submodule update --recursive --remote --init PATHotherwisegit submodule update --recursive --remote Sometimes, we may encounter some problem of adding submodule, i.e. &#39;projectfolder&#39; already exists in the index. Here is a way to fix it: Fix issue of adding submodulegit rm --cached projectfolder References:Git submoduleUpdate submoduleFix submodule issue","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://blog.jm00oo.io/tags/git/"},{"name":"submodule","slug":"submodule","permalink":"http://blog.jm00oo.io/tags/submodule/"}]},{"title":"Jenkins slave setup notes","slug":"jenkins-slave","date":"2017-04-11T16:00:00.000Z","updated":"2018-08-28T02:30:39.575Z","comments":true,"path":"2017/04/12/jenkins-slave/","link":"","permalink":"http://blog.jm00oo.io/2017/04/12/jenkins-slave/","excerpt":"In this article, I introduced how to setup a docker-host based Jenkins slave step by step from installing docker. It includes some trick of how to run docker with parameters.","text":"In this article, I introduced how to setup a docker-host based Jenkins slave step by step from installing docker. It includes some trick of how to run docker with parameters. Install Docker$ sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ software-properties-common$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -$ sudo apt-key fingerprint 0EBFCD88$ sudo add-apt-repository \\ \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stable\"$ sudo apt-get update$ sudo apt-get install docker-ce Ref: Docker install guide Modify docker configAdd config/etc/default/docker1DOCKER_OPTS=\"-H tcp://172.31.16.61:2375 --live-restore\" Modify/lib/systemd/system/docker.service12EnvironmentFile=-/etc/default/dockerExecStart=/usr/bin/dockerd -H fd:// $DOCKER_OPTS Run$ service docker restart Install Javasudo apt-get install default-jresudo apt-get install default-jdk Ref: Install Java","categories":[{"name":"Tech","slug":"Tech","permalink":"http://blog.jm00oo.io/categories/Tech/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://blog.jm00oo.io/tags/docker/"},{"name":"CI/CD","slug":"CI-CD","permalink":"http://blog.jm00oo.io/tags/CI-CD/"},{"name":"Jenkins","slug":"Jenkins","permalink":"http://blog.jm00oo.io/tags/Jenkins/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-04-09T16:00:00.000Z","updated":"2018-08-28T02:30:39.575Z","comments":true,"path":"2017/04/10/hello-world/","link":"","permalink":"http://blog.jm00oo.io/2017/04/10/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"hello-world","slug":"hello-world","permalink":"http://blog.jm00oo.io/categories/hello-world/"}],"tags":[{"name":"hello-world","slug":"hello-world","permalink":"http://blog.jm00oo.io/tags/hello-world/"}]}]}